import Cesium from "@mesh-3d/cesium"
import * as THREE from '@mesh-3d/three'
 
/**
 * 相机工具，转换cesium和threejs相机，仅做参数映射，不考虑两个引擎的差异。也即是以cesium相机为主，换到threejs相机只是为了语法上的需要
 */
export default class CameraUtils {

    /**
     * 获取透视相机的反射相机，可以用于渲染镜面倒影图像
     * @param {THREE.PerspectiveCamera|Cesium.Camera} camera
     * @param {THREE.Matrix4} mirrorMatrixWorld 
     * @param {THREE.PerspectiveCamera} [mirrorCamera] 
     * @return {THREE.PerspectiveCamera} mirrorCamera
     */
    static getMirrorCamera(camera: THREE.PerspectiveCamera | Cesium.Camera, mirrorMatrixWorld: THREE.Matrix4, mirrorCamera?: THREE.PerspectiveCamera): THREE.PerspectiveCamera

    /**
     * 从缓存中获取three.js相机转换成cesium相机的缓存对象
     * @param {THREE.PerspectiveCamera|THREE.OrthographicCamera} camera3js 
     * @return {Cesium.Camera}
     */
    static getCameraFromCache(camera3js: THREE.PerspectiveCamera | THREE.OrthographicCamera): Cesium.Camera

    /**
     * 获取three.js透视相机或者平行相机的视锥
     * @param {THREE.PerspectiveCamera|THREE.OrthographicCamera} camera3js 
     * @return {THREE.Frustum}
     */
    static getFrustum3js(camera3js: THREE.PerspectiveCamera | THREE.OrthographicCamera): THREE.Frustum

    /**
     * Cesium的透视相机转three.js的透视相机
     * @param {Cesium.Camera} camera  
     * @param {THREE.PerspectiveCamera} [camera3js] 
     * @param {{
     *  matrix:Cesium.Matrix4,
     *  inverseMatrix:Cesium.Matrix4
     * }} [referenceFrame] 
     * @returns {THREE.PerspectiveCamera} camera3js
     */
    static toPerspectiveCamera3js(camera, camera3js, referenceFrame): THREE.PerspectiveCamera

    /**
     * Cesium的平行相机转three.js的平行相机
     * @param {Cesium.Camera} camera  
     * @param {THREE.OrthographicCamera} [camera3js] 
     * @param {{
     *  matrix:Cesium.Matrix4,
     *  inverseMatrix:Cesium.Matrix4
     * }} [referenceFrame] 
     * @returns {THREE.OrthographicCamera} camera3js
     */
    static toOrthographicCamera3js(camera, camera3js, referenceFrame): THREE.OrthographicCamera


    /**
     * three.js的透视相机转Cesium的透视相机
     * @param {THREE.PerspectiveCamera} camera3js 
      * @param {Cesium.Scene} scene
     * @param {{
     *  matrix:Cesium.Matrix4,
     *  inverseMatrix:Cesium.Matrix4
     * }} [referenceFrame] 
      * @param {Cesium.Camera} [camera]
     * @returns {Cesium.Camera} camera  
     */
    static fromPerspectiveCamera3js(camera3js, scene: Cesium.Scene, referenceFrame: {
        matrix: Cesium.Matrix4
        inverseMatrix?: Cesium.Matrix4
    }, camera): Cesium.Camera

    /**
     * three.js的平行相机转Cesium的平行相机
     * @param {THREE.OrthographicCamera} camera3js 
     * @param {Cesium.Scene} scene
     * @param {{
     *  matrix:Cesium.Matrix4,
     *  inverseMatrix:Cesium.Matrix4
     * }} [referenceFrame] 
     * @param {Cesium.Camera} [camera]
     * @returns {Cesium.Camera} camera  
     */
    static fromOrthographicCamera3js(camera3js: THREE.OrthographicCamera, scene: Cesium.Scene, referenceFrame?: {
        matrix: Cesium.Matrix4
        inverseMatrix?: Cesium.Matrix4
    }, camera?: Cesium.Camera): Cesium.Camera
}
