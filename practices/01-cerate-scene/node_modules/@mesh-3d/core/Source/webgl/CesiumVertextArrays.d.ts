import WebGLRenderer from "./WebGLRenderer";


/**
 * 顶点数组工具，使用threejs BufferGeometry和Cesium Geometry，生成、更新DrawCommand的vertexArray
 */
export default class CesiumVertextArrays {

    constructor(renderer: WebGLRenderer)
    /**
     * 
     * 
     * @param {THREE.BufferGeometry} geometry 
     * @param {THREE.Mesh|THREE.Points|THREE.Line|THREE.Sprite|THREE.LineSegments|THREE.LineLoop} object 
     * @param {{start:number,count:number}|number}[group] group or materialIndex
     * @param {ArrayBufferView}[indices]
     * @param {boolean}[groupOptimized] 
     */
    create(
        geometry: THREE.BufferGeometry,
        object: THREE.Mesh | THREE.Points | THREE.Line | THREE.Sprite | THREE.LineSegments | THREE.LineLoop,
        group?: number,
        indices?: ArrayBufferView,
        groupOptimized?: boolean
    ): void

    /**
     * 
     * @param {THREE.Mesh|THREE.Points|THREE.Line|THREE.Sprite|THREE.LineSegments|THREE.LineLoop} object  
     * @param {Cesium.DrawCommand} command 
     * @param {THREE.BufferGeometry}[geometry3js]
     * @param {boolean}[forceUpdate]
     * @private
     */
    update(
        object: THREE.Mesh | THREE.Points | THREE.Line | THREE.Sprite | THREE.LineSegments | THREE.LineLoop,
        command: Cesium.DrawCommand,
        geometry3js?: THREE.BufferGeometry,
        forceUpdate?: boolean
    ): void

    /**
     * 
     * @param {THREE.Mesh|THREE.Points|THREE.Line|THREE.Sprite|THREE.LineSegments|THREE.LineLoop} object 
     * @param {string} attributeName 
     * @param {THREE.BufferAttribute}geometryAttribute
     * @private
     */
    updateVerexBuffer(
        object: THREE.Mesh | THREE.Points | THREE.Line | THREE.Sprite | THREE.LineSegments | THREE.LineLoop,
        attributeName: string,
        geometryAttribute: THREE.BufferAttribute
    ): void

    /**
     * 
     * @param {THREE.BufferGeometry} geometry3js 
     */
    delete(geometry3js: THREE.BufferGeometry): void

}
